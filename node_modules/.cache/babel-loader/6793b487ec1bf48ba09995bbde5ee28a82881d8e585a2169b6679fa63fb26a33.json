{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HARSHIT AGARWAL\\\\Downloads\\\\Musicart-apoorva-main\\\\Musicart-apoorva-main\\\\Project\\\\frontend\\\\src\\\\components\\\\products\\\\Products.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from './Products.module.css';\nimport ProductCard from '../productCard/ProductCard';\nimport { UserContext } from '../../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Products() {\n  _s();\n  const {\n    filters\n  } = useContext(UserContext);\n  const [displayProducts, setDisplayProducts] = useState([]);\n  let fqueryString = '';\n  const loadQueryProducts = async () => {\n    try {\n      const res = await axios.get(`https://musicart-backend.onrender.com/products/view${fqueryString}`);\n      let productCards = [];\n      for (let i = 0; i < res.data.length; i++) {\n        productCards.push( /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: res.data[i]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 27\n        }, this));\n      }\n      setDisplayProducts(productCards);\n    } catch (err) {}\n  };\n  const loadProducts = async () => {\n    try {\n      const currFilter = filters;\n      let queryString = '?';\n      currFilter.forEach(item => {\n        let itemKey = Object.keys(item)[0];\n        let itemValue = item[itemKey];\n        if (itemKey == 'Headphone type' && itemValue != 'none') {\n          queryString += `type=${itemValue}&`;\n        }\n        if (itemKey == 'Company' && itemValue != 'none') {\n          queryString += `company=${itemValue}&`;\n        }\n        if (itemKey == 'Colour' && itemValue != 'none') {\n          queryString += `color=${itemValue}&`;\n        }\n        if (itemKey == 'Price' && itemValue != 'none') {\n          if (itemValue == '₹1,000 - ₹9,999') itemValue = '1000-9999';\n          if (itemValue == '₹0 - ₹999') itemValue = '0-999';\n          if (itemValue == '₹10,000 - ₹99,999') itemValue = '10000-99999';\n          queryString += `price=${itemValue}&`;\n        }\n        if (itemKey == 'Sort by' && itemValue != 'none') {\n          if (itemValue == 'Price: Lowest') {\n            queryString += `sort=price1`;\n          }\n          if (itemValue == 'Price: Highest') {\n            queryString += `sort=price-1`;\n          }\n          if (itemValue == 'Name: A-Z') {\n            queryString += `sort=A-Z`;\n          }\n          if (itemValue == 'Name: Z-A') {\n            queryString += `sort=Z-A`;\n          }\n          queryString += '&';\n        }\n        fqueryString = queryString.substring(0, queryString.length - 1);\n      });\n    } catch (err) {}\n  };\n  //------------------------------------------------\n  useEffect(() => {\n    loadProducts();\n    loadQueryProducts();\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.main,\n    children: displayProducts\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"bqpJ3YHPzCzT8JHObM49+pz4CF4=\");\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","styles","ProductCard","UserContext","jsxDEV","_jsxDEV","Products","_s","filters","displayProducts","setDisplayProducts","fqueryString","loadQueryProducts","res","get","productCards","i","data","length","push","product","fileName","_jsxFileName","lineNumber","columnNumber","err","loadProducts","currFilter","queryString","forEach","item","itemKey","Object","keys","itemValue","substring","className","main","children","_c","$RefreshReg$"],"sources":["C:/Users/HARSHIT AGARWAL/Downloads/Musicart-apoorva-main/Musicart-apoorva-main/Project/frontend/src/components/products/Products.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport styles from './Products.module.css'\r\nimport ProductCard from '../productCard/ProductCard'\r\nimport { UserContext } from '../../App'\r\nexport default function Products() {\r\n\r\n  const { filters } = useContext(UserContext);\r\n  const [displayProducts, setDisplayProducts] = useState([]);\r\n  let fqueryString = '';\r\n\r\n  const loadQueryProducts = async () => {\r\n    try {\r\n      const res = await axios.get(`https://musicart-backend.onrender.com/products/view${fqueryString}`);\r\n      let productCards = [];\r\n      for (let i = 0; i < res.data.length; i++) {\r\n        productCards.push(<ProductCard\r\n          product={res.data[i]}\r\n        />)\r\n      }\r\n      setDisplayProducts(productCards);\r\n    }\r\n    catch (err) {\r\n\r\n    }\r\n  }\r\n  const loadProducts = async () => {\r\n    try {\r\n\r\n      const currFilter = filters;\r\n      let queryString = '?';\r\n      currFilter.forEach((item) => {\r\n        let itemKey = Object.keys(item)[0];\r\n        let itemValue = item[itemKey];\r\n\r\n        if (itemKey == 'Headphone type' && itemValue != 'none') {\r\n          queryString += `type=${itemValue}&`;\r\n        }\r\n        if (itemKey == 'Company' && itemValue != 'none') {\r\n          queryString += `company=${itemValue}&`;\r\n        }\r\n        if (itemKey == 'Colour' && itemValue != 'none') {\r\n          queryString += `color=${itemValue}&`;\r\n        }\r\n        if (itemKey == 'Price' && itemValue != 'none') {\r\n          if (itemValue == '₹1,000 - ₹9,999')\r\n            itemValue = '1000-9999'\r\n          if (itemValue == '₹0 - ₹999')\r\n            itemValue = '0-999'\r\n          if (itemValue == '₹10,000 - ₹99,999')\r\n            itemValue = '10000-99999'\r\n\r\n          queryString += `price=${itemValue}&`;\r\n        }\r\n        if (itemKey == 'Sort by' && itemValue != 'none') {\r\n          if (itemValue == 'Price: Lowest') {\r\n            queryString += `sort=price1`;\r\n          }\r\n          if (itemValue == 'Price: Highest') {\r\n            queryString += `sort=price-1`;\r\n          }\r\n          if (itemValue == 'Name: A-Z') {\r\n            queryString += `sort=A-Z`\r\n          }\r\n          if (itemValue == 'Name: Z-A') {\r\n            queryString += `sort=Z-A`\r\n          }\r\n          queryString += '&';\r\n        }\r\n\r\n        fqueryString = queryString.substring(0, queryString.length - 1);\r\n\r\n      })\r\n    }\r\n\r\n    catch (err) {\r\n    }\r\n  }\r\n  //------------------------------------------------\r\n  useEffect(() => {\r\n    loadProducts();\r\n    loadQueryProducts();\r\n  }, [filters])\r\n\r\n\r\n  return (\r\n    <div className={styles.main}>\r\n      {displayProducts}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}